{% extends "base.html" %}
{% load i18n %}
{% load leading_zeros %}
{% block script %}
<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        $('.computerlist').dataTable({
            "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
            "iDisplayLength": 20,
            "aLengthMenu": [[20, 50, -1], [20, 50, "All"]],
            "sPaginationType": "bootstrap",
            "bStateSave": true,
            "aaSorting": [[1,'asc']]
        });
    } );
</script>

{% endblock %}

{% block nav %}
<li><a href="{% url new_computer group.id %}">New Computer</a></li>
<li><a href="{% url edit_computer_group group.id %}">Edit Group</a></li>
{% endblock %}

{% block content %}
<table class='computerlist table table-striped table-condensed'>
    <thead>
        <tr>
          <th>Computer Name</th>
          <th>Serial</th>
          <th>Last Seen</th>
        </tr>
        </tr>
    </thead>
    <tbody>
        {% for computer in group.computer_set.all %}
        <tr>
            <td>
                {% if group.prefix %}
                <a href="{% url edit_computer computer.id %}">{{group.prefix}} {{ computer.name|leading_zeros:length }}</a>
                {% else %}
                <a href="{% url edit_computer computer.id %}">{{ computer.name }}</a>
                {% endif %}
            </td>
    
            <td>{{ computer.serial }}</td>
            <td>{{ computer.last_checkin }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
